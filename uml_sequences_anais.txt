title Authentification

Actor Utilisateur
participant EMarché
activate EMarché
Utilisateur -> EMarché: Authentification
EMarché -> Utilisateur: Authentification réussie
deactivate EMarché
------------------------
title Rechercher les ventes en cours par mots clés

Actor Utilisateur
participant EMarché
Utilisateur -> EMarché: Envoi mots clés
activate EMarché
    EMarché -> EMarché: Recherche des ventes en cours\ncorrespondantes aux mots clés
    EMarché -> Utilisateur: Liste des ventes en cours les moins chères d'abord correspondantes\n(référence, photo, prix, quantité, pseudoVendeur, dateLimite (si enchère))\n(20 max par page)
deactivate EMarché
-------------------------
title Consulter les ventes en cours

Actor Utilisateur
participant EMarché
activate EMarché
    EMarché -> EMarché: Recherche des ventes en cours 
    EMarché -> Utilisateur: Liste des ventes en cours les plus récentes\n(20 max par page)
deactivate EMarché
-------------------------
title Rechercher un profil par mots clés

Actor Utilisateur
participant EMarché
    Utilisateur -> EMarché: Envoi mots clés
    activate EMarché
    EMarché -> EMarché: Recherche des pseudos correspondants\naux mots clés
    EMarché -> Utilisateur: Liste des pseudos correspondants\n(20 max par page)
deactivate EMarché
-------------------------
title Acheter un produit
Actor Acheteur
participant EMarché
activate EMarché
    EMarché -> Acheteur: Formulaire coordonnées bancaires
    Acheteur -> EMarché: Envoi coordonnées bancaires
    EMarché -> EMarché: Vérification des coordonnées bancaires\navec celles du profil
    EMarché -> Acheteur: Demande de confirmation
    Acheteur -> EMarché: Confirmation
    EMarché -> EMarché: Statut de la vente "en cours" : non
    EMarché -> Vendeur: Notification de la vente\n(pseudo de l'acheteur, date, heure, délai)
    EMarché -> Acheteur: Confirmation de l'achat
deactivate EMarché
-------------------------
title Acheter un produit\ncas de coordonnées bancaires incorrectes avec le profil ou absentes

Actor Acheteur
participant EMarché
activate EMarché
    EMarché -> Acheteur: Formulaire coordonnées bancaires
    Acheteur -> EMarché: Envoi coordonnées bancaires
    EMarché -> EMarché: Vérification des coordonnées bancaires\navec celles du profil
    EMarché -> Acheteur: Coordonnées bancaires non enregistrées/incorrectes\nDemande de confirmation
    Acheteur -> EMarché: Confirmation
    EMarché -> Acheteur: Proposition d'enregistrement des coordonnées bancaires
    alt Enregistrement accepté
    Acheteur -> EMarché: Confirmation de l'enregistrement
    EMarché -> EMarché: Enregistrement des coordonnées\nbancaires dans le profil de l'acheteur
    else Enregistrement refusé
    Acheteur -> EMarché: Refus de l'enregistrement
    end
    EMarché -> EMarché: Statut de la vente "en cours" : non
    EMarché -> Vendeur: Notification de la vente\n(pseudo de l'acheteur, date, heure, délai)
    EMarché -> Acheteur: Confirmation de l'achat
deactivate EMarché
-------------------------
title Diagramme de cas d'utilisation de l'acheteur

Actor Acheteur
left to right direction
Acheteur -- (Consulter les produits disponibles)
(Consulter les produits disponibles) ..> (Authentification) : include
Acheteur -- (Rechercher un produit par mots-clés)
(Rechercher un produit par mots-clés) ..> (Authentification) : include
Acheteur -- (Acheter un produit)
(Acheter un produit) ..> (Authentification) : include
Acheteur -- (Enchérir)
(Enchérir) ..> (Authentification) : include
Acheteur -- (Rechercher un profil)
(Rechercher un profil) ..> (Authentification) : include
Acheteur -- (Consulter un profil)
(Consulter un profil) ..> (Authentification) : include
Acheteur -- (Consulter son compte)
(Consulter son compte) ..> (Authentification) : include